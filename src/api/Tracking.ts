/*
 * This code was auto generated by AfterShip SDK Generator.
 * Do not edit the class manually.
 */
import { Request } from "../lib/request";
import { AftershipError, AfterShipErrorCodes } from "../error";
import { GetTrackingByIdQuery } from "../model/GetTrackingByIdQuery";
import { GetTrackingByIdResponse } from "../model/GetTrackingByIdResponse";
import { UpdateTrackingByIdRequest } from "../model/UpdateTrackingByIdRequest";
import { UpdateTrackingByIdResponse } from "../model/UpdateTrackingByIdResponse";
import { RetrackTrackingByIdResponse } from "../model/RetrackTrackingByIdResponse";
import { MarkTrackingCompletedByIdRequest } from "../model/MarkTrackingCompletedByIdRequest";
import { MarkTrackingCompletedByIdResponse } from "../model/MarkTrackingCompletedByIdResponse";
import { GetTrackingsQuery } from "../model/GetTrackingsQuery";
import { GetTrackingsResponse } from "../model/GetTrackingsResponse";
import { CreateTrackingRequest } from "../model/CreateTrackingRequest";
import { CreateTrackingResponse } from "../model/CreateTrackingResponse";
import { DeleteTrackingByIdResponse } from "../model/DeleteTrackingByIdResponse";

export class TrackingApi {
  private readonly request: Request;

  constructor(request: Request) {
    this.request = request;
  }

  /**
   * Get tracking results of a single tracking.
   */
  public async getTrackingById(
    id: string,
    query?: GetTrackingByIdQuery,
    headers?: { [key: string]: any },
  ): Promise<GetTrackingByIdResponse> {
    if (!id) {
      throw new AftershipError(
        "Invalid params: id",
        AfterShipErrorCodes.VALUE_INVALID,
      );
    }

    return this.request.makeRequest<GetTrackingByIdResponse>({
      url: `/tracking/2025-01/trackings/${id}`,
      method: "GET",
      query,
      headers,
      request_legacy_tag: "",
      response_legacy_tag: "",
      is_paging: false,
    });
  }
  /**
   * Update a tracking.
   */
  public async updateTrackingById(
    id: string,
    body: UpdateTrackingByIdRequest,
    headers?: { [key: string]: any },
  ): Promise<UpdateTrackingByIdResponse> {
    if (!id) {
      throw new AftershipError(
        "Invalid params: id",
        AfterShipErrorCodes.VALUE_INVALID,
      );
    }

    return this.request.makeRequest<UpdateTrackingByIdResponse>({
      url: `/tracking/2025-01/trackings/${id}`,
      method: "PUT",
      body,
      headers,
      request_legacy_tag: "",
      response_legacy_tag: "",
      is_paging: false,
    });
  }
  /**
   * Retrack an expired tracking. Max 3 times per tracking.
   */
  public async retrackTrackingById(
    id: string,
    headers?: { [key: string]: any },
  ): Promise<RetrackTrackingByIdResponse> {
    if (!id) {
      throw new AftershipError(
        "Invalid params: id",
        AfterShipErrorCodes.VALUE_INVALID,
      );
    }

    return this.request.makeRequest<RetrackTrackingByIdResponse>({
      url: `/tracking/2025-01/trackings/${id}/retrack`,
      method: "POST",
      headers,
      request_legacy_tag: "",
      response_legacy_tag: "",
      is_paging: false,
    });
  }
  /**
   * Mark a tracking as completed. The tracking won&#39;t auto update until retrack it.
   */
  public async markTrackingCompletedById(
    id: string,
    body: MarkTrackingCompletedByIdRequest,
    headers?: { [key: string]: any },
  ): Promise<MarkTrackingCompletedByIdResponse> {
    if (!id) {
      throw new AftershipError(
        "Invalid params: id",
        AfterShipErrorCodes.VALUE_INVALID,
      );
    }

    return this.request.makeRequest<MarkTrackingCompletedByIdResponse>({
      url: `/tracking/2025-01/trackings/${id}/mark-as-completed`,
      method: "POST",
      body,
      headers,
      request_legacy_tag: "",
      response_legacy_tag: "",
      is_paging: false,
    });
  }
  /**
   * Get tracking results of multiple trackings.&lt;div style=&#34;visibility:hidden; height: 0&#34;&gt;&lt;/div&gt;
   */
  public async getTrackings(
    query?: GetTrackingsQuery,
    headers?: { [key: string]: any },
  ): Promise<GetTrackingsResponse> {
    return this.request.makeRequest<GetTrackingsResponse>({
      url: `/tracking/2025-01/trackings`,
      method: "GET",
      query,
      headers,
      request_legacy_tag: "",
      response_legacy_tag: "trackings",
      is_paging: true,
    });
  }
  /**
   * Create a tracking.&lt;div style=&#34;visibility:hidden; height: 0&#34;&gt;&lt;/div&gt;
   */
  public async createTracking(
    body: CreateTrackingRequest,
    headers?: { [key: string]: any },
  ): Promise<CreateTrackingResponse> {
    return this.request.makeRequest<CreateTrackingResponse>({
      url: `/tracking/2025-01/trackings`,
      method: "POST",
      body,
      headers,
      request_legacy_tag: "",
      response_legacy_tag: "",
      is_paging: false,
    });
  }
  /**
   * Delete a tracking.
   */
  public async deleteTrackingById(
    id: string,
    headers?: { [key: string]: any },
  ): Promise<DeleteTrackingByIdResponse> {
    if (!id) {
      throw new AftershipError(
        "Invalid params: id",
        AfterShipErrorCodes.VALUE_INVALID,
      );
    }

    return this.request.makeRequest<DeleteTrackingByIdResponse>({
      url: `/tracking/2025-01/trackings/${id}`,
      method: "DELETE",
      headers,
      request_legacy_tag: "",
      response_legacy_tag: "",
      is_paging: false,
    });
  }
}
